<section class="container-fluid">
  <div class="d-flex bd-highlight mb-3">
    <h1 class="me-auto p-2 bd-highlight bleu">Liste des bouteilles</h1>
    <span class="p-2 bd-highlight badge btn-primary gros pull-right">{{bouteilles.length}}</span>
  </div>
  <br>
  <form action="lister" method="GET" class="form-horizontal">
    <div class="form-group is-flex" id="blocFiltre">
      <label id="labelFiltre" for="filtre" class="col-xs-2 col-form-label">Filtre :</label>
      <div class="flex-fill">
        <div class="input-group">
			      <span class="input-group-btn">
			      	<a href="lister"
                 th:class="${(param.filtre != null) and (param.filtre[0] != '') ? 'btn btn-warning' : 'btn btn-warning disabled'}">
 			      	<span class="glyphicon glyphicon-trash"></span></a>
			      </span>
          <input type="search" name="filtre" id="filtre"
                 placeholder="Filtre sur le nom, la couleur, la rÃ©gion du vin ..."
                 class="form-control"
                 th:value="${param.filtre }"/>
          <span class="input-group-btn">
			        <button class="btn btn-info" type="submit">Envoyer</button>
			      </span>
        </div><!-- /input-group -->

      </div>
    </div>
  </form>
  <br>
  <table class="table table-hover table-striped">
    <tr>
      <th></th>
      <th class="text-center">
        <i (click)="trierPar('nA')" class="bi bi-chevron-down"></i>
        Nom
        <i (click)="trierPar('nD')" class="bi bi-chevron-up"></i>
      </th>
      <th class="text-center">
        <i (click)="trierPar('mA')" class="bi bi-chevron-down"></i>
        Millesime
        <i (click)="trierPar('mD')" class="bi bi-chevron-up"></i>
      </th>
      <th class="text-center">
        <i (click)="trierPar('pA')" class="bi bi-chevron-down"></i>
        Petillant
        <i (click)="trierPar('pD')" class="bi bi-chevron-up"></i>
      </th>
      <th class="text-center">
        <i (click)="trierPar('qA')" class="bi bi-chevron-down"></i>
        Quantite
        <i (click)="trierPar('qD')" class="bi bi-chevron-up"></i>
      </th>
      <th class="text-center">
        <i (click)="trierPar('coA')" class="bi bi-chevron-down"></i>
        Couleur
        <i (click)="trierPar('coD')" class="bi bi-chevron-up"></i>
      </th>
      <th class="text-center">
        <i (click)="trierPar('rA')" class="bi bi-chevron-down"></i>
        Region
        <i (click)="trierPar('rD')" class="bi bi-chevron-up"></i>
      </th>
      <th></th>
      <th></th>
    </tr>
    <tr *ngFor=" let bouteille of bouteilles">
      <!--<app-bouteille [bouteille]= bouteille [index]=index></app-bouteille>-->
      <td> {{bouteille.id }}</td>
      <td>
        <a [routerLink]="['/bouteilles',bouteille.id]">{{bouteille.nom }}</a>
      </td>
      <td class="text-center"> {{bouteille.millesime }}</td>
      <td class="text-center"> {{bouteille.petillant }}</td>
      <td class="text-center"> {{bouteille.quantite }}</td>
      <td class="text-center"> {{bouteille.couleur.nom }}</td>
      <td class="text-center"> {{bouteille.region.nom }}</td>
      <td class="text-center">
        <a [routerLink]="['/bouteille/editer/',bouteille.id]">
          <button class="btn btn-primary">Modifier</button>
        </a>
        <button class="btn btn-danger" (click)="supprimerBouteille(bouteille.id)">Supprimer</button>
      </td>
    </tr>
  </table>
</section>
